import{_ as k,a as N,r as g,b as l,d as t,i as h,h as c,w as V,j as i,n as d,f as m,e as u,v as f,t as n,C as P,z as T,p as o}from"./index-WuaywiV3.js";const _={class:"register-page py-12 min-h-screen bg-gray-50"},C={class:"container mx-auto px-4"},S={class:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden"},j={class:"md:flex"},U={class:"md:w-1/2 bg-gradient-to-r from-pink-500 to-purple-600 p-8 text-white flex flex-col justify-between"},M={class:"md:w-1/2 p-8"},$={class:"flex border rounded-lg overflow-hidden mb-6"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},R={key:0,class:"mt-1 text-sm text-red-500"},B={key:0,class:"mt-1 text-sm text-red-500"},D={key:0,class:"mt-1 text-sm text-red-500"},z={key:0,class:"mt-1 text-sm text-red-500"},I={key:0,class:"mt-1 text-sm text-red-500"},L={class:"flex items-start mt-4"},A={class:"flex items-center h-5"},F={class:"ml-3 text-sm"},O={key:0,class:"mt-1 text-sm text-red-500"},q={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600"},G={__name:"RegisterView",setup(H){const x=T(),b=N(),s=g({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"couple",agreeTerms:!1}),r=g({}),v=g(""),w=()=>(r.value={},s.value.firstName.trim()||(r.value.firstName="Имя обязательно для заполнения"),s.value.lastName.trim()||(r.value.lastName="Фамилия обязательна для заполнения"),s.value.email.trim()?/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(s.value.email)||(r.value.email="Введите корректный email"):r.value.email="Email обязателен для заполнения",s.value.password?s.value.password.length<8&&(r.value.password="Пароль должен содержать минимум 8 символов"):r.value.password="Пароль обязателен для заполнения",s.value.password!==s.value.confirmPassword&&(r.value.confirmPassword="Пароли не совпадают"),s.value.agreeTerms||(r.value.agreeTerms="Необходимо согласиться с условиями"),Object.keys(r.value).length===0),y=async()=>{if(w())try{const p={username:s.value.email,email:s.value.email,password:s.value.password,password_confirm:s.value.confirmPassword,first_name:s.value.firstName,last_name:s.value.lastName,user_type:s.value.role},e=await b.register(p);e.success?(console.log("Регистрация и автоматическая авторизация успешны!"),localStorage.setItem("username",`${s.value.firstName} ${s.value.lastName}`),x.push("/profile")):v.value=e.error||"Ошибка при регистрации"}catch(p){v.value="Ошибка при регистрации. Пожалуйста, попробуйте снова позже.",console.error("Registration error:",p)}};return(p,e)=>(o(),l("div",_,[t("div",C,[t("div",S,[t("div",j,[t("div",U,[e[10]||(e[10]=h('<div data-v-349e5bdf><h2 class="text-3xl font-bold mb-6" data-v-349e5bdf>Добро пожаловать на нашу платформу!</h2><p class="text-white/80 mb-6" data-v-349e5bdf>Создайте аккаунт и начните планировать свадьбу вашей мечты уже сегодня.</p><div class="space-y-4 mb-8" data-v-349e5bdf><div class="flex items-center" data-v-349e5bdf><div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center mr-4" data-v-349e5bdf><i class="fas fa-heart text-white" data-v-349e5bdf></i></div><p data-v-349e5bdf>Создавайте и персонализируйте ваш профиль пары</p></div><div class="flex items-center" data-v-349e5bdf><div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center mr-4" data-v-349e5bdf><i class="fas fa-tasks text-white" data-v-349e5bdf></i></div><p data-v-349e5bdf>Планируйте задачи и отслеживайте прогресс</p></div><div class="flex items-center" data-v-349e5bdf><div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center mr-4" data-v-349e5bdf><i class="fas fa-users text-white" data-v-349e5bdf></i></div><p data-v-349e5bdf>Управляйте списком гостей и рассадкой</p></div></div></div>',1)),t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-white/60"},"Уже есть аккаунт?",-1)),t("button",{onClick:e[0]||(e[0]=(...a)=>c(b).openLoginModal&&c(b).openLoginModal(...a)),class:"text-white font-medium hover:underline bg-transparent border-0 p-0 cursor-pointer"},"Войти")])]),t("div",M,[e[20]||(e[20]=t("h2",{class:"text-2xl font-bold mb-6 text-gray-800"},"Регистрация",-1)),t("form",{onSubmit:V(y,["prevent"]),class:"space-y-4"},[t("div",$,[t("button",{type:"button",onClick:e[1]||(e[1]=a=>s.value.role="couple"),class:d(["flex-1 py-3 px-4 text-center transition",s.value.role==="couple"?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},e[11]||(e[11]=[t("i",{class:"fas fa-heart mr-2"},null,-1),m(" Я пара ")]),2),t("button",{type:"button",onClick:e[2]||(e[2]=a=>s.value.role="vendor"),class:d(["flex-1 py-3 px-4 text-center transition",s.value.role==="vendor"?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},e[12]||(e[12]=[t("i",{class:"fas fa-store mr-2"},null,-1),m(" Я подрядчик ")]),2)]),t("div",E,[t("div",null,[e[13]||(e[13]=t("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-1"},"Имя",-1)),u(t("input",{type:"text",id:"firstName","onUpdate:modelValue":e[3]||(e[3]=a=>s.value.firstName=a),class:d(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-pink-300 focus:border-pink-500 outline-none transition",r.value.firstName?"border-red-500":"border-gray-300"])},null,2),[[f,s.value.firstName]]),r.value.firstName?(o(),l("p",R,n(r.value.firstName),1)):i("",!0)]),t("div",null,[e[14]||(e[14]=t("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-1"},"Фамилия",-1)),u(t("input",{type:"text",id:"lastName","onUpdate:modelValue":e[4]||(e[4]=a=>s.value.lastName=a),class:d(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-pink-300 focus:border-pink-500 outline-none transition",r.value.lastName?"border-red-500":"border-gray-300"])},null,2),[[f,s.value.lastName]]),r.value.lastName?(o(),l("p",B,n(r.value.lastName),1)):i("",!0)])]),t("div",null,[e[15]||(e[15]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),u(t("input",{type:"email",id:"email","onUpdate:modelValue":e[5]||(e[5]=a=>s.value.email=a),class:d(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-pink-300 focus:border-pink-500 outline-none transition",r.value.email?"border-red-500":"border-gray-300"])},null,2),[[f,s.value.email]]),r.value.email?(o(),l("p",D,n(r.value.email),1)):i("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},"Пароль",-1)),u(t("input",{type:"password",id:"password","onUpdate:modelValue":e[6]||(e[6]=a=>s.value.password=a),class:d(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-pink-300 focus:border-pink-500 outline-none transition",r.value.password?"border-red-500":"border-gray-300"])},null,2),[[f,s.value.password]]),r.value.password?(o(),l("p",z,n(r.value.password),1)):i("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 mb-1"},"Подтверждение пароля",-1)),u(t("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":e[7]||(e[7]=a=>s.value.confirmPassword=a),class:d(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-pink-300 focus:border-pink-500 outline-none transition",r.value.confirmPassword?"border-red-500":"border-gray-300"])},null,2),[[f,s.value.confirmPassword]]),r.value.confirmPassword?(o(),l("p",I,n(r.value.confirmPassword),1)):i("",!0)]),t("div",L,[t("div",A,[u(t("input",{type:"checkbox",id:"agreeTerms","onUpdate:modelValue":e[8]||(e[8]=a=>s.value.agreeTerms=a),class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-pink-300"},null,512),[[P,s.value.agreeTerms]])]),t("div",F,[e[18]||(e[18]=t("label",{for:"agreeTerms",class:"font-medium text-gray-700"},[m("Я согласен с "),t("a",{href:"#",class:"text-pink-600 hover:underline"},"условиями использования"),m(" и "),t("a",{href:"#",class:"text-pink-600 hover:underline"},"политикой конфиденциальности"),m(".")],-1)),r.value.agreeTerms?(o(),l("p",O,n(r.value.agreeTerms),1)):i("",!0)])]),v.value?(o(),l("div",q,n(v.value),1)):i("",!0),e[19]||(e[19]=t("button",{type:"submit",class:"w-full bg-pink-500 hover:bg-pink-600 focus:ring-4 focus:ring-pink-300 text-white font-medium rounded-lg py-3 px-5 transition mt-6"}," Зарегистрироваться ",-1))],32)])])])])]))}},K=k(G,[["__scopeId","data-v-349e5bdf"]]);export{K as default};
